<ion-view  view-title="Dasboard" ng-controller="DashboardCtrl"> 
<ion-header-bar align-title="center" class="common-header">
      <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
      <h1 class="title">Dasboard</h1>
</ion-header-bar>
<ion-content class="has-header main-content">
    <div class="row dashboard">
        <div class="col profileInfo">
            <img src="img/malecostume-512.png" class="profilePic">
            <p>Welcome</p>
            <h3>{{user.description.FirstName}} {{user.description.LastName}}</h3>
            <p> Last Login : <span am-time-ago="user.description.LastLoginDate"></span></p>
        </div>
    </div>
    <div class="row request">
        <div class="col">
                <h3>New Request</h3>
            <form name="sendRequestform" novalidate=''   >
            <div class="list">
          <label class="item item-input item-stacked-label">
            <span class="input-label">Subject</span>
            <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.subject" required>
          </label>
          <label  class="request-errors" ng-show="sendRequestform.requestSubject.$error.required && sendRequestform.requestSubject.$touched">
                    <span>Please Enter the Subject</span>
          </label>           
          <label class="item item-input item-stacked-label">
            <span class="input-label">Details</span>
            <textarea placeholder="Please Enter the details" name="requestDetails" ng-model="request.detail" class="input-control"></textarea>
          </label>
          <label  class="request-errors" ng-show="sendRequestform.requestDetails.$error.required && sendRequestform.requestDetails.$touched">
                    <span>Please Enter the details</span>
          </label>        
          <label class="item item-input item-stacked-label">
            <span class="input-label" ng-model="request.date">Estimate Date</span>
            <input type="date" class="input-control" name="requestDate" ng-model="request.Date" min="{{date | date:'yyyy-MM-dd'}}" required>
          </label>
          <label  class="request-errors" ng-show="sendRequestform.requestDate.$error.required && sendRequestform.requestDate.$touched">
                    <span>Please Enter the Date</span>
          </label>        
          <label class="item item-input item-stacked-label">
            <span class="input-label" >Estimate Time</span>
            <input type="time" class="input-control" name="requestTime" ng-model="request.time" >
          </label>
          <label  class="request-errors" ng-show="sendRequestform.requestTime.$error.required && sendRequestform.requestTime.$touched">
                    <span>Please Enter the Time</span>
          </label>
          <div class="row" ng-show="showaddedaddress">
              <div class="col">
                <label class="item item-input item-stacked-label">
                <span class="input-label">Address Line 1</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.address1" required>
              </label>        
              <label class="item item-input item-stacked-label">
                <span class="input-label">Address Line 2</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.address2" required>
              </label>        
              <label class="item item-input item-stacked-label">
                <span class="input-label">City</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.city" required>
              </label>        
              <label class="item item-input item-stacked-label">
                <span class="input-label">State</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.state" required>
              </label>        
              <label class="item item-input item-stacked-label">
                <span class="input-label">Postal Code</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.postal" required>
              </label>        
              <label class="item item-input item-stacked-label">
                <span class="input-label">Country</span>
                <input type="text" class="input-control" name="requestSubject" placeholder="Enter the subject" ng-model="request.country" required>
              </label>      
            </div>
          </div>      
                 
          
              <div class="row">
                <div class="col" ng-repeat="image in images" >
                    <img ng-src="{{image}}" height="100px" />    
                </div>
              </div>
              <div class="row">
                <div id="map" data-tap-disabled="true"></div>  
              </div>    
         <div class="row">
            <div class="col col-50">
            <button class="button button-block button-mysmall" ng-click="addAddress();">Add Address</button>
            
            </div>       
            <div class="col col-50">
                <button class="button button-block button-mysmall" ng-click="usecurrentLocation();">Use Current Location</button> 
            </div>       
         </div> 
         <div class="row">
            <div class="col col-50">
            <button class="button button-block button-mybuttoncolor" ng-click="takePicture()">Add image</button>
            
            </div>       
            <div class="col col-50">
                <button class="button button-block button-mybuttoncolor" ng-click='sendRequestform.$valid &&  sendRequest(request);'>Send Request</button> 
            </div>       
         </div>           
        </div>
            </form>        
        </div>
       

    </div>
     
</ion-content>

</ion-view>    
