<ion-view  view-title="Requests" ng-controller="RequestCtrl" class="requests"> 
<ion-header-bar align-title="center" class="common-header">
      <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
      <h1 class="title">Requests</h1>
</ion-header-bar>
    <ion-content class="has-header main-content">
        <h4>Your Request</h4>
        <form>
        <div class="bar bar-header item-input-inset">
          <label class="item-input-wrapper">
            <i class="icon ion-ios-search placeholder-icon"></i>
              
            <input type="text" placeholder="Search Requests.." ng-model="searchrequest" />
            <a ng-if="searchrequest.length" type="button" class="button button-icon ion-android-close input-button clear" 
                    ng-click="clearsearch();"></a>
            
          </label>
        </div>
        </form>        
        <ion-list ng-show='showRequest'>
          <ion-item  ng-repeat="requests in jobrequests | orderBy:'-CreatedDate' | filter:{JobName:searchrequest}" class=" item-icon-right" ui-sref='app.viewrequest({ jobID: requests.JobId})' >
            <h2>{{requests.JobName}}</h2>
            <p>Status : {{ requests.JobStatus == 0 ? 'pending' : 'completed' }}</p> 
            <i class="icon ion-chevron-right"></i>
          </ion-item>
       </ion-list>
       <div class="row" ng-hide='showRequest'>
            <div class="col">
                <p> You have not registered any request.</p>
            </div> 
       </div>    
    </ion-content>
</ion-view>